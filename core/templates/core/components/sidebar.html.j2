{% load static %}
{# Modern Accessible Sidebar with Bootstrap 5.3 #}
<nav id="sidebar"
     class="sidebar js-sidebar"
     role="navigation"
     aria-label="Main navigation menu">
    <div class="sidebar-content js-simplebar">
        <div class="sidebar-header-row">
            <a class="sidebar-brand"
               href="{% url 'core:dashboard' %}"
               aria-label="sbomify dashboard home">
                <img src="{% static 'img/sbomify.svg' %}"
                     alt="sbomify logo"
                     class="align-middle sidebar-logo"
                     width="120"
                     height="30" />
            </a>
            {# Mobile close button #}
            <button class="sidebar-close js-sidebar-close d-lg-none"
                    type="button"
                    aria-label="Close navigation menu">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
        {% with current_view_name=request.resolver_match.namespaces.0|add:":"|add:request.resolver_match.url_name %}
            <ul class="sidebar-nav">
                {% if not request.session.current_team.has_completed_wizard %}
                    <li class="sidebar-item">
                        <a class="sidebar-link" href="{% url 'teams:getting_started_wizard' %}">
                            <i class="align-middle fas fa-play-circle"></i>
                            <span class="align-middle">Get Started</span>
                        </a>
                    </li>
                    <li class="sidebar-header">Navigation</li>
                {% endif %}
                <li class="sidebar-item {% if current_view_name == 'core:dashboard' %}active{% endif %}">
                    <a class="sidebar-link" href="{% url 'core:dashboard' %}">
                        <i class="align-middle fas fa-tachometer-alt"></i> <span class="align-middle">Dashboard</span>
                    </a>
                </li>
                <li class="sidebar-item {% if current_view_name == 'teams:teams_dashboard' %}active{% endif %}">
                    <a class="sidebar-link" href="{% url 'teams:teams_dashboard' %}">
                        <i class="align-middle fas fa-users"></i> <span class="align-middle">Workspace</span>
                    </a>
                </li>
                <li class="sidebar-item {% if 'core:product' in current_view_name %}active{% endif %}">
                    <a class="sidebar-link" href="{% url 'core:products_dashboard' %}">
                        <i class="align-middle fas fa-cube"></i> <span class="align-middle">Products</span>
                    </a>
                </li>
                <li class="sidebar-item {% if 'core:project' in current_view_name %}active{% endif %}">
                    <a class="sidebar-link" href="{% url 'core:projects_dashboard' %}">
                        <i class="align-middle fas fa-folder"></i> <span class="align-middle">Projects</span>
                    </a>
                </li>
                <li class="sidebar-item {% if 'core:component' in current_view_name %}active{% endif %}">
                    <a class="sidebar-link" href="{% url 'core:components_dashboard' %}">
                        <i class="align-middle fas fa-puzzle-piece"></i> <span class="align-middle">Components</span>
                    </a>
                </li>
                <li class="sidebar-item {% if 'core:release' in current_view_name %}active{% endif %}">
                    <a class="sidebar-link" href="{% url 'core:releases_dashboard' %}">
                        <i class="align-middle fas fa-tag"></i> <span class="align-middle">Releases</span>
                    </a>
                </li>
                {% if request.session.current_team and request.session.current_team.key %}
                    <li class="sidebar-item {% if 'teams:team_settings' in current_view_name %}active{% endif %}">
                        <a class="sidebar-link"
                           href="{% url 'teams:team_settings' team_key=request.session.current_team.key %}">
                            <i class="align-middle fas fa-cog"></i> <span class="align-middle">Settings</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        {% endwith %}
    </div>
</nav>
