{% extends "core/dashboard_base.html.j2" %}
{% load widget_tweaks %}
{% load form_helpers %}
{% load django_vite %}
{% block title %}sbomify Products{% endblock %}
{% block content %}
    <div class="page-header mb-4">
        <div class="header-main">
            <div class="title-section">
                <h1 class="item-title">
                    <i class="align-middle me-3 text-primary fas fa-box"></i>Products
                </h1>
                <p class="item-subtitle">Manage and organize your software products</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <!-- Products Table using Django Template Component -->
            {% include "core/components/products_table.html.j2" with products=products has_crud_permissions=has_crud_permissions show_add_button=True table_title="Products" pagination_meta=pagination_meta current_page=current_page page_size=page_size page_size_options=page_size_options %}
        </div>
    </div>
    <!-- Add Product Modal - Django Template -->
    {% include "core/components/add_item_modal.html.j2" with modal_id="addProductModal" item_type="Product" api_endpoint="/api/v1/products" form_fields=product_form_fields has_crud_permissions=has_crud_permissions %}
{% endblock %}
{% block scripts %}
    <!-- Load main scripts for Django template functionality -->
    {% vite_asset 'core/js/main.ts' %}
{% endblock %}
