direction: down

# ============================================================================
# sbomify Web Application Sitemap
# ============================================================================
# This sitemap documents all public and private pages in the sbomify webapp
# (excluding admin pages)
# ============================================================================

# Legend
legend: {
  label: "Legend"
  style: {
    fill: "#F3F4F6"
    stroke: "#9CA3AF"
    stroke-width: 2
  }

  public: {
    label: "PUBLIC PAGE\n(No authentication required)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  private: {
    label: "PRIVATE PAGE\n(Authentication required)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  conditional: {
    label: "CONDITIONAL ACCESS\n(Public if item is public,\nprivate otherwise)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }
}

# ============================================================================
# AUTHENTICATION & CORE
# ============================================================================

auth_core: {
  label: "Authentication & Core Pages"
  style: {
    fill: "#F9FAFB"
    stroke: "#6B7280"
    stroke-width: 2
  }

  home: {
    label: "[CONDITIONAL] Home\n/\n\nRedirects to dashboard if authenticated,\notherwise to login"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }

  login: {
    label: "[PUBLIC] Login\n/login\n\nKeycloak SSO login page"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  login_error: {
    label: "[PUBLIC] Login Error\n/login_error\n\nDisplays authentication errors"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  logout: {
    label: "[PRIVATE] Logout\n/logout\n\nLogs out and redirects to Keycloak"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  dashboard: {
    label: "[PRIVATE] Dashboard\n/dashboard\n\nMain dashboard showing\nrecent activity and stats"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  settings: {
    label: "[PRIVATE] User Settings\n/settings\n\nManage personal access tokens\nand user preferences"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  support_contact: {
    label: "[PRIVATE] Support Contact\n/support/contact/\n\nContact support form"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  support_success: {
    label: "[PRIVATE] Support Success\n/support/contact/success/\n\nConfirmation page"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }
}

# ============================================================================
# PRODUCTS
# ============================================================================

products: {
  label: "Products"
  style: {
    fill: "#FEF2F2"
    stroke: "#DC2626"
    stroke-width: 2
  }

  products_dashboard: {
    label: "[PRIVATE] Products Dashboard\n/products/\n\nList all products in\ncurrent workspace"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  product_details_private: {
    label: "[PRIVATE] Product Details (Private)\n/product/{product_id}/\n\nView product details,\nprojects, and metadata"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  product_details_public: {
    label: "[PUBLIC] Product Details (Public)\n/public/product/{product_id}/\n\nPublic view of product\n(if product is public)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  product_releases_private: {
    label: "[PRIVATE] Product Releases (Private)\n/product/{product_id}/releases/\n\nView all releases for a product"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  product_releases_public: {
    label: "[PUBLIC] Product Releases (Public)\n/public/product/{product_id}/releases/\n\nPublic view of product releases"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  product_sbom_download: {
    label: "[CONDITIONAL] Product SBOM Download\n/product/{product_id}/sbom/download\n\nDownload aggregated product SBOM\n(public if product is public)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }
}

# ============================================================================
# PROJECTS
# ============================================================================

projects: {
  label: "Projects"
  style: {
    fill: "#FEF9C3"
    stroke: "#F59E0B"
    stroke-width: 2
  }

  projects_dashboard: {
    label: "[PRIVATE] Projects Dashboard\n/projects/\n\nList all projects in\ncurrent workspace"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  project_details_private: {
    label: "[PRIVATE] Project Details (Private)\n/project/{project_id}/\n\nView project details,\ncomponents, and metadata"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  project_details_public: {
    label: "[PUBLIC] Project Details (Public)\n/public/project/{project_id}/\n\nPublic view of project\n(if project is public)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  project_sbom_download: {
    label: "[CONDITIONAL] Project SBOM Download\n/project/{project_id}/sbom/download\n\nDownload aggregated project SBOM\n(public if project is public)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }
}

# ============================================================================
# COMPONENTS
# ============================================================================

components: {
  label: "Components"
  style: {
    fill: "#EDE9FE"
    stroke: "#8B5CF6"
    stroke-width: 2
  }

  components_dashboard: {
    label: "[PRIVATE] Components Dashboard\n/components/\n\nList all components in\ncurrent workspace"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  component_details_private: {
    label: "[PRIVATE] Component Details (Private)\n/component/{component_id}/\n\nView component overview\nand recent SBOMs"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  component_details_public: {
    label: "[PUBLIC] Component Details (Public)\n/public/component/{component_id}/\n\nPublic view of component\n(if component is public)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  component_detailed_private: {
    label: "[PRIVATE] Component Detailed (Private)\n/component/{component_id}/detailed/\n\nDetailed component view with\nall SBOMs and documents"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  component_detailed_public: {
    label: "[PUBLIC] Component Detailed (Public)\n/public/component/{component_id}/detailed/\n\nPublic detailed component view"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  component_transfer: {
    label: "[PRIVATE] Transfer Component\n/component/{component_id}/transfer\n\nTransfer component to\nanother workspace"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  component_metadata: {
    label: "[PRIVATE] Component Metadata\n/component/{component_id}/metadata\n\nGet component metadata (API)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }
}

# ============================================================================
# RELEASES
# ============================================================================

releases: {
  label: "Releases"
  style: {
    fill: "#FCE7F3"
    stroke: "#EC4899"
    stroke-width: 2
  }

  releases_dashboard: {
    label: "[PRIVATE] Releases Dashboard\n/releases/\n\nList all releases in\ncurrent workspace"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  release_details_private: {
    label: "[PRIVATE] Release Details (Private)\n/product/{product_id}/release/{release_id}/\n\nView release details and artifacts"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  release_details_public: {
    label: "[PUBLIC] Release Details (Public)\n/public/product/{product_id}/release/{release_id}/\n\nPublic view of release"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }
}

# ============================================================================
# SBOMS (Legacy URLs - mostly redirects)
# ============================================================================

sboms: {
  label: "SBOMs"
  style: {
    fill: "#E0E7FF"
    stroke: "#6366F1"
    stroke-width: 2
  }

  sbom_details_private: {
    label: "[PRIVATE] SBOM Details (Private)\n(Legacy - redirects to component detailed)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  sbom_details_public: {
    label: "[PUBLIC] SBOM Details (Public)\n(Legacy - redirects to component detailed)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  sbom_download: {
    label: "[CONDITIONAL] SBOM Download\n/sbom/{sbom_id}/download\n\nDownload SBOM file\n(public if SBOM is public)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }

  sbom_vulnerabilities: {
    label: "[PRIVATE] SBOM Vulnerabilities\n(View vulnerability scan results)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }
}

# ============================================================================
# DOCUMENTS
# ============================================================================

documents: {
  label: "Documents"
  style: {
    fill: "#FEF3C7"
    stroke: "#D97706"
    stroke-width: 2
  }

  document_details_private: {
    label: "[PRIVATE] Document Details (Private)\n/document/{document_id}/\n\nView document details and versions"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  document_details_public: {
    label: "[PUBLIC] Document Details (Public)\n/public/document/{document_id}/\n\nPublic view of document\n(if document is public)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  document_download: {
    label: "[CONDITIONAL] Document Download\n/document/download/{document_id}\n\nDownload document file\n(public if document is public)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }
}

# ============================================================================
# WORKSPACES / TEAMS
# ============================================================================

workspaces: {
  label: "Workspaces / Teams"
  style: {
    fill: "#DBEAFE"
    stroke: "#2563EB"
    stroke-width: 2
  }

  workspaces_dashboard: {
    label: "[PRIVATE] Workspaces Dashboard\n/workspaces/\n/workspace/ (legacy)\n\nManage all workspaces"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  team_settings: {
    label: "[PRIVATE] Workspace Settings\n/workspaces/{team_key}\n\nManage workspace settings:\n- Members & invitations\n- Branding & contact profiles\n- Billing & subscription\n- Integrations\n(Owner/Admin only)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  switch_team: {
    label: "[PRIVATE] Switch Workspace\n/workspaces/switch/{team_key}/\n\nSwitch active workspace"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  invite_user: {
    label: "[PRIVATE] Invite User\n/workspaces/invite/{team_key}/\n\nInvite user to workspace\n(Owner/Admin only)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  accept_invite: {
    label: "[PRIVATE] Accept Invitation\n/workspaces/accept_invite/{invite_id}/\n\nAccept workspace invitation"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  onboarding_wizard: {
    label: "[PRIVATE] Onboarding Wizard\n/workspaces/onboarding/\n\nGuided setup for new workspaces:\n1. Create product\n2. Create project\n3. Create component"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }
}

# ============================================================================
# BILLING
# ============================================================================

billing: {
  label: "Billing & Subscription"
  style: {
    fill: "#D1FAE5"
    stroke: "#059669"
    stroke-width: 2
  }

  select_plan: {
    label: "[PRIVATE] Select Plan\n/billing/select-plan/{team_key}\n\nChoose billing plan\n(Owner only)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  enterprise_contact: {
    label: "[PRIVATE] Enterprise Contact (Auth)\n/billing/enterprise-contact/\n\nContact sales for enterprise plan\n(Authenticated users)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  public_enterprise_contact: {
    label: "[PUBLIC] Enterprise Contact (Public)\n/enterprise-contact/\n\nPublic enterprise inquiry form"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  billing_redirect: {
    label: "[PRIVATE] Billing Redirect\n/billing/billing-redirect/{team_key}\n\nRedirect to Stripe checkout\n(Owner only)"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  billing_return: {
    label: "[PRIVATE] Billing Return\n/billing/return\n\nReturn from Stripe checkout"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  checkout_success: {
    label: "[PRIVATE] Checkout Success\n/billing/checkout/success/\n\nSuccessful payment confirmation"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  checkout_cancel: {
    label: "[PRIVATE] Checkout Cancel\n/billing/checkout/cancel/\n\nCancelled payment page"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  stripe_webhook: {
    label: "[PUBLIC] Stripe Webhook\n/billing/webhook/\n\nStripe event handler (CSRF exempt)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }
}

# ============================================================================
# API ENDPOINTS (v1)
# ============================================================================

api: {
  label: "API v1 (/api/v1/)"
  style: {
    fill: "#F3F4F6"
    stroke: "#4B5563"
    stroke-width: 2
  }

  api_docs: {
    label: "[PUBLIC] API Documentation\n/api/v1/docs\n\nInteractive API documentation\n(OpenAPI/Swagger UI)"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }

  api_sboms: {
    label: "[PRIVATE] SBOMs API\n/api/v1/sboms/\n\n- Upload SBOMs\n- List/get SBOMs\n- Update/delete SBOMs\n- Vulnerability scanning"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  api_documents: {
    label: "[PRIVATE] Documents API\n/api/v1/documents/\n\n- Upload documents\n- List/get documents\n- Update/delete documents"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  api_components: {
    label: "[CONDITIONAL] Components API\n/api/v1/components/\n\n- Create/list components\n- Get component details\n- Update/delete components\n(Some endpoints support public access)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }

  api_products_projects: {
    label: "[CONDITIONAL] Products & Projects API\n/api/v1/products/\n/api/v1/projects/\n\n- Create/list products & projects\n- Get details\n- Update/delete\n(Some endpoints support public access)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }

  api_releases: {
    label: "[CONDITIONAL] Releases API\n/api/v1/releases/\n\n- Create/list releases\n- Get release details\n- Update/delete releases\n- Download release artifacts\n(Some endpoints support public access)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }

  api_workspaces: {
    label: "[PRIVATE] Workspaces API\n/api/v1/workspaces/\n\n- List workspaces\n- Get workspace details\n- Update workspace settings\n- Manage members"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  api_billing: {
    label: "[PRIVATE] Billing API\n/api/v1/billing/\n\n- Get current plan\n- View usage statistics\n- Manage subscriptions"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  api_notifications: {
    label: "[PRIVATE] Notifications API\n/api/v1/notifications/\n\n- List notifications\n- Mark as read\n- Get unread count"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  api_vulnerability: {
    label: "[PRIVATE] Vulnerability Scanning API\n/api/v1/vulnerability-scanning/\n\n- Configure scanning providers\n- View scan statistics\n- Manage workspace preferences"
    shape: rectangle
    style: {
      fill: "#DBEAFE"
      stroke: "#3B82F6"
      stroke-width: 2
    }
  }

  api_licensing: {
    label: "[CONDITIONAL] Licensing API\n/api/v1/licensing/\n\n- Validate license expressions\n- Get license information\n- Manage custom licenses\n(Some endpoints are public)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }

  api_dashboard: {
    label: "[CONDITIONAL] Dashboard API\n/api/v1/dashboard/summary\n\nGet dashboard statistics\n(Public for public items)"
    shape: rectangle
    style: {
      fill: "#FEF3C7"
      stroke: "#F59E0B"
      stroke-width: 2
    }
  }
}

# ============================================================================
# HEALTH CHECK
# ============================================================================

health: {
  label: "Health & Monitoring"
  style: {
    fill: "#F3F4F6"
    stroke: "#6B7280"
    stroke-width: 2
  }

  health_check: {
    label: "[PUBLIC] Health Check\n/UuPha8mu/\n\nSystem health monitoring endpoint"
    shape: rectangle
    style: {
      fill: "#D1FAE5"
      stroke: "#10B981"
      stroke-width: 2
    }
  }
}

# ============================================================================
# RELATIONSHIPS / NAVIGATION FLOW
# ============================================================================

# Main navigation flows
auth_core.home -> auth_core.login: "Not authenticated"
auth_core.home -> auth_core.dashboard: "Authenticated"
auth_core.login -> auth_core.dashboard: "Login success"
auth_core.dashboard -> workspaces.workspaces_dashboard: "Manage workspaces"
auth_core.dashboard -> products.products_dashboard: "View products"
auth_core.dashboard -> projects.projects_dashboard: "View projects"
auth_core.dashboard -> components.components_dashboard: "View components"
auth_core.dashboard -> releases.releases_dashboard: "View releases"

# Workspace flow
workspaces.workspaces_dashboard -> workspaces.onboarding_wizard: "New workspace setup"
workspaces.workspaces_dashboard -> workspaces.team_settings: "Configure workspace"
workspaces.team_settings -> billing.select_plan: "Change plan"

# Product hierarchy
products.products_dashboard -> products.product_details_private: "View product"
products.product_details_private -> products.product_releases_private: "View releases"
products.product_details_private -> projects.project_details_private: "View project"

# Project hierarchy
projects.projects_dashboard -> projects.project_details_private: "View project"
projects.project_details_private -> components.component_details_private: "View component"

# Component hierarchy
components.components_dashboard -> components.component_details_private: "View component"
components.component_details_private -> components.component_detailed_private: "Detailed view"
components.component_detailed_private -> sboms.sbom_details_private: "View SBOM (legacy)"
components.component_detailed_private -> documents.document_details_private: "View document"

# Public access paths
products.product_details_public -> projects.project_details_public: "Public project"
projects.project_details_public -> components.component_details_public: "Public component"
components.component_details_public -> components.component_detailed_public: "Public detailed"

# Billing flow
billing.select_plan -> billing.billing_redirect: "Choose paid plan"
billing.billing_redirect -> billing.billing_return: "Stripe checkout"
billing.billing_return -> billing.checkout_success: "Payment success"
billing.select_plan -> billing.enterprise_contact: "Enterprise plan"

# API access
api.api_docs -> api.api_sboms: "Explore endpoints"
api.api_docs -> api.api_documents: "Explore endpoints"
api.api_docs -> api.api_components: "Explore endpoints"

# Notes section
notes: {
  label: "Important Notes"
  style: {
    fill: "#FEF3C7"
    stroke: "#F59E0B"
    stroke-width: 2
  }

  note1: {
    label: |md
      ## Authentication Methods

      **Web Application:**
      - Keycloak SSO (OpenID Connect)
      - Session-based authentication

      **API:**
      - Personal Access Tokens (Bearer)
      - Session authentication (for web)
      - Optional token auth for some endpoints
    |
    shape: page
    style: { fill: "#FEF9C3" }
  }

  note2: {
    label: |md
      ## Public Access Model

      Items can be marked as public:
      - **Products** - Public products show all public projects
      - **Projects** - Public projects show all public components
      - **Components** - Public components show all SBOMs/documents
      - **Releases** - Can be public or private independently

      Public items are accessible without authentication
      at `/public/*` URLs.
    |
    shape: page
    style: { fill: "#FEF9C3" }
  }

  note3: {
    label: |md
      ## Workspace Roles

      **Owner:**
      - Full access to all workspace features
      - Manage billing and subscription
      - Delete workspace

      **Admin:**
      - Manage members and invitations
      - Configure workspace settings
      - Cannot manage billing

      **Member:**
      - Create and manage own content
      - View workspace content

      **Guest:**
      - Read-only access to workspace content
    |
    shape: page
    style: { fill: "#FEF9C3" }
  }

  note4: {
    label: |md
      ## Legacy URLs

      Many URLs redirect for backward compatibility:
      - `/workspace/*` â†’ `/workspaces/*`
      - Old SBOM detail pages redirect to component detailed views
      - Product/project/component URLs without trailing slash redirect

      These redirects are permanent (301).
    |
    shape: page
    style: { fill: "#FEF9C3" }
  }
}

