{% load static %}
<div x-data="{ showDeleteModal: false }">
    <!-- Standard Card Structure Inlined -->
    <div class="standard-card mt-3">
        <div class="card dangerzone-card shadow-sm"
             x-data="{ isExpanded: false, toggle() { this.isExpanded = !this.isExpanded; } }">
            <div class="card-header collapsible-header"
                 @click="toggle()"
                 style="cursor: pointer">
                <div class="header-content d-flex justify-content-between align-items-center w-100">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Danger Zone
                        <i class="fas ms-2"
                           :class="isExpanded ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
                    </h4>
                </div>
            </div>
            <div class="card-body collapse"
                 :class="{ 'show': isExpanded }"
                 x-show="isExpanded"
                 x-collapse>
                <!-- Delete Product Section -->
                <div class="danger-section delete-section">
                    <div class="section-header">
                        <div class="section-icon delete-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="section-content">
                            <h6 class="section-title">Delete Product</h6>
                            <p class="section-description">Permanently remove this product and all associated data</p>
                        </div>
                    </div>
                    <button id="del_{{ product_id }}"
                            class="btn btn-danger modern-btn delete-btn"
                            @click="showDeleteModal = true">
                        <i class="fas fa-trash-alt me-2"></i>
                        Delete Product
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% include 'components/delete_confirmation_modal.html.j2' with modal_id='showDeleteModal' title='Delete Product' message='Are you sure you want to delete the product' item_name=product_name warning_message='This action cannot be undone and will permanently remove the product from the system.' confirm_text='Delete Product' hx_url='/api/v1/products/'|add:product_id hx_method='delete' hx_target='none' hx_swap='none' on_success="window.location.href = '/products/'" %}
</div>
