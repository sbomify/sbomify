{% load static %}
<div x-data="{ showDeleteModal: false, isExpanded: false, toggle() { this.isExpanded = !this.isExpanded; } }">
    <!-- Standard Card Structure Inlined -->
    <div class="standard-card mt-3">
        <div class="card dangerzone-card shadow-sm">
            <div class="card-header collapsible-header cursor-pointer"
                 @click="toggle()">
                <div class="header-content d-flex justify-content-between align-items-center w-100">
                    <h4 class="card-title mb-0">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Danger Zone
                        <i class="fas ms-2"
                           :class="isExpanded ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
                    </h4>
                </div>
            </div>
            <div class="card-body collapse"
                 :class="{ 'show': isExpanded }"
                 x-show="isExpanded">
                <!-- Delete SBOM Section -->
                <div class="danger-section delete-section">
                    <div class="section-header">
                        <div class="section-icon delete-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="section-content">
                            <h6 class="section-title">Delete SBOM</h6>
                            <p class="section-description">Permanently remove this SBOM and all its associated data</p>
                        </div>
                    </div>
                    <button id="del_{{ sbom_id }}"
                            class="btn btn-danger modern-btn delete-btn"
                            @click="showDeleteModal = true">
                        <i class="fas fa-trash-alt me-2"></i>
                        Delete SBOM
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% include 'components/delete_confirmation_modal.html.j2' with modal_id='showDeleteModal' title='Delete SBOM' message='Are you sure you want to delete the SBOM' item_name=sbom_name warning_message='This action cannot be undone and will permanently remove the SBOM from the system.' confirm_text='Delete SBOM' hx_url='/api/v1/sboms/'|add:sbom_id hx_method='delete' success_message='SBOM deleted successfully!' redirect_url='/component/'|add:component_id %}
</div>
