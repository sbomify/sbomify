{% comment %}
  HTMX Loading Indicator Partial

  Usage - Inline spinner for buttons:
  {% include "core/components/_loading_indicator.html.j2" with indicator_id="btn-spinner" size="sm" %}

  Usage - Section loading indicator:
  {% include "core/components/_loading_indicator.html.j2" with
      indicator_id="section-loader"
      size="md"
      text="Loading..."
      block=true
  %}

  In the trigger element, use:
  hx-indicator="#btn-spinner"

  Parameters:
  - indicator_id: Unique ID for the indicator (required for hx-indicator targeting)
  - size: "sm", "md", or "lg" (default: sm)
  - text: Optional loading text
  - block: Set to true for block-level centered display
  - sr_only_text: Screen reader text (default: "Loading")
{% endcomment %}
<span id="{{ indicator_id }}"
      class="htmx-indicator inline-flex items-center gap-2 {% if block %}flex justify-center py-4{% endif %}">
    <span class="animate-spin rounded-full border-2 border-primary border-t-transparent {% if size == 'lg' %}w-8 h-8 border-4{% elif size == 'md' %}w-6 h-6{% else %}w-4 h-4{% endif %}"
          role="status"
          aria-hidden="true"></span>
    {% if text %}<span class="text-text-muted">{{ text }}</span>{% endif %}
    <span class="sr-only">{{ sr_only_text|default:"Loading" }}</span>
</span>
