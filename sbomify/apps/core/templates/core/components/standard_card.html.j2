{% comment %}
StandardCard Component

Usage (via include with context variables):
{% include 'core/components/standard_card.html.j2' with title='My Card' variant='default' %}

Parameters (pass as context variables):
- title: Card title (optional)
- collapsible: Enable collapse behavior (default: false)
- default_expanded: Initial expanded state (default: true)
- info_icon: Icon class for info notice (default: 'fas fa-info-circle')
- storage_key: Session storage key for collapse state
- variant: 'default' | 'stats' | 'plan' | 'modal' | 'settings' | 'dangerzone'
- size: 'small' | 'medium' | 'large'
- emphasis: Highlight the card (default: false)
- center_content: Center the content (default: false)
- no_padding: Remove body padding (default: false)
- shadow: 'none' | 'sm' | 'md' | 'lg'
- card_content: HTML content for the card body
- header_actions_content: HTML for header action buttons
- info_notice_content: HTML for info notice area
- actions_content: HTML for action buttons
- footer_content: HTML for footer area
{% endcomment %}
<div class="standard-card {% if size == 'small' %}mt-2{% elif size == 'large' %}mt-6{% else %}mt-4{% endif %}" {% if collapsible %} x-data="standardCard({ storageKey: '{{ storage_key }}', defaultExpanded:
    {% if default_expanded|default:True %}
        true
    {% else %}
        false
    {% endif %}
    })" {% endif %}>
    <div class="tw-card {% if variant == 'stats' %}stats-card{% elif variant == 'plan' %}plan-card{% if emphasis %} border-primary border-2{% endif %}{% elif variant == 'modal' %}modal-card{% elif variant == 'settings' %}tw-settings-card{% elif variant == 'dangerzone' %}tw-dangerzone-card{% endif %} {% if shadow == 'none' %}shadow-none{% elif shadow == 'md' %}shadow-md{% elif shadow == 'lg' %}shadow-lg{% else %}shadow-sm{% endif %}"
         {% if collapsible %}:class="{ 'opacity-75': !isExpanded }"{% endif %}>
        {% if title or header_actions_content %}
            <div class="px-6 py-4 border-b border-border {% if collapsible %}cursor-pointer{% endif %} {% if emphasis and variant == 'plan' %}bg-primary/5{% endif %}">
                <div class="flex items-center justify-between gap-4">
                    {% if title %}
                        <h4 class="text-lg font-semibold text-text m-0 flex items-center gap-2"
                            {% if collapsible %}@click="toggleCollapse()"{% endif %}>
                            {% if variant == 'dangerzone' %}
                                <i class="{% firstof info_icon 'fas fa-info-circle' %} text-danger"></i>
                            {% endif %}
                            {{ title }}
                            {% if collapsible %}
                                <i class="fas text-sm text-text-muted ml-2 transition-transform"
                                   :class="isExpanded ? 'fa-chevron-down' : 'fa-chevron-right'"></i>
                            {% endif %}
                        </h4>
                    {% endif %}
                    {% if header_actions_content %}<div class="flex items-center gap-2">{{ header_actions_content|safe }}</div>{% endif %}
                </div>
            </div>
        {% endif %}
        <div class="{% if no_padding %}p-0{% elif center_content %}p-6 text-center{% else %}p-6{% endif %}"
             {% if collapsible %}x-show="isExpanded" x-collapse{% endif %}>
            {% if info_notice_content %}
                <div class="flex items-center gap-2 mb-4 p-3 rounded-lg bg-info/10">
                    <i class="{% firstof info_icon 'fas fa-info-circle' %} text-primary"></i>
                    <span class="text-text-muted text-sm">{{ info_notice_content|safe }}</span>
                </div>
            {% endif %}
            {{ card_content|safe }}
            {% if actions_content %}<div class="mt-4 flex gap-2 justify-end">{{ actions_content|safe }}</div>{% endif %}
        </div>
        {% if footer_content %}
            <div class="px-6 py-4 border-t border-border {% if emphasis and variant == 'plan' %}bg-primary/5{% endif %}">
                {{ footer_content|safe }}
            </div>
        {% endif %}
    </div>
</div>
