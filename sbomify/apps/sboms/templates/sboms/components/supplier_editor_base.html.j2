<!-- Supplier Name -->
<div class="mb-4">
    <label for="supplierName" class="block text-sm font-medium text-text mb-1">Name</label>
    <input id="supplierName"
           type="text"
           class="w-full px-3 py-2 border border-border rounded-lg bg-background text-text focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary"
           x-model="supplier.name"
           @input="dispatchUpdate()">
</div>
<!-- URLs (multiple) -->
<div class="mb-4">
    <label class="block text-sm font-medium text-text mb-1">URLs</label>
    <!-- URL List (when URLs exist) -->
    <template x-if="supplier.url && supplier.url.length > 0">
        <div>
            <div class="space-y-2 mb-2">
                <template x-for="(url, index) in supplier.url" :key="index">
                    <div class="flex gap-2">
                        <input type="url"
                               class="flex-1 px-3 py-2 border border-border rounded-lg bg-background text-text focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary"
                               placeholder="https://example.com"
                               :value="url"
                               @input="updateUrl(index, $event.target.value)">
                        <button type="button"
                                class="px-3 py-2 border border-danger/30 text-danger rounded-lg hover:bg-danger/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                :disabled="supplier.url.length <= 1"
                                @click="removeUrl(index)">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </template>
            </div>
            <button type="button"
                    class="text-sm text-primary hover:text-primary/80 transition-colors flex items-center gap-1"
                    @click="addUrl()">
                <i class="fas fa-plus"></i>Add Another URL
            </button>
        </div>
    </template>
    <!-- Empty State (no URLs yet) -->
    <template x-if="!supplier.url || supplier.url.length === 0">
        <div class="flex gap-2">
            <input type="url"
                   class="flex-1 px-3 py-2 border border-border rounded-lg bg-background text-text focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary"
                   placeholder="https://example.com"
                   x-model="newUrlInput"
                   @keyup.enter="addUrlFromInput()">
            <button type="button"
                    class="px-3 py-2 border border-primary text-primary rounded-lg hover:bg-primary/10 transition-colors"
                    @click="addUrlFromInput()">
                <i class="fas fa-plus"></i>
            </button>
        </div>
    </template>
</div>
<!-- Address -->
<div class="mb-4">
    <label for="supplierAddress"
           class="block text-sm font-medium text-text mb-1">Address</label>
    <textarea id="supplierAddress"
              class="w-full px-3 py-2 border border-border rounded-lg bg-background text-text focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary"
              x-model="supplier.address"
              @input="dispatchUpdate()"></textarea>
</div>
<!-- Contacts Section -->
<h4 class="text-base font-semibold text-text mb-3">Contacts</h4>
<div x-data="contactsEditor({ contacts: supplier.contacts || [], contactType: 'contact' })"
     @contacts-updated.stop="supplier.contacts = $event.detail.contacts; dispatchUpdate()">
    {% include 'sboms/components/contacts_editor_base.html.j2' %}
</div>
