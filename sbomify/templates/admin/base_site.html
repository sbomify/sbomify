{% extends "admin/base.html" %}
{% load static %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | sbomify Admin{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">sbomify Admin</a></h1>
{% endblock %}

{% block extrastyle %}
{{ block.super }}
<style>
    /* ==========================================================================
       sbomify Admin Theme - Color Overrides Only
       Based on sbomify webapp design tokens (tokens.css)
       Preserves original Django admin sizing
       ========================================================================== */

    :root {
        /* Brand Colors - from tokens.css */
        --admin-primary: #3b7ddd;
        --admin-primary-hover: #2f64b1;
        --admin-primary-light: #e8f0fc;
        --admin-secondary: #6c757d;
        --admin-success: #1cbb8c;
        --admin-success-hover: #17a073;
        --admin-danger: #dc3545;
        --admin-danger-hover: #c82333;
        --admin-warning: #fcb92c;
        --admin-info: #17a2b8;
        
        /* Neutrals - from tokens.css */
        --admin-white: #ffffff;
        --admin-gray-50: #f8f9fa;
        --admin-gray-100: #f1f5f9;
        --admin-gray-200: #e9ecef;
        --admin-gray-300: #dee2e6;
        --admin-gray-400: #ced4da;
        --admin-gray-500: #adb5bd;
        --admin-gray-600: #6c757d;
        --admin-gray-700: #495057;
        --admin-gray-800: #343a40;
        --admin-gray-900: #212529;
        
        /* Text Colors */
        --admin-text-primary: #495057;
        --admin-text-secondary: #6c757d;
        --admin-text-title: #1f2937;
        --admin-text-muted: #7c8b9d;
        --admin-text-inverse: #ffffff;
        
        /* Backgrounds */
        --admin-bg-primary: #f9fbfd;
        --admin-bg-secondary: #ffffff;
        
        /* Borders */
        --admin-border-color: #e5e7eb;
        --admin-border-light: #f0f0f0;
    }

    /* ==========================================================================
       Header
       ========================================================================== */
    
    #header {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    #header a:link,
    #header a:visited,
    #header a:hover {
        color: var(--admin-text-inverse) !important;
    }
    
    #branding h1 a:link,
    #branding h1 a:visited {
        color: var(--admin-text-inverse) !important;
    }

    #user-tools a {
        color: var(--admin-text-inverse) !important;
        border-color: rgba(255, 255, 255, 0.3) !important;
    }
    
    #user-tools a:hover {
        background: rgba(255, 255, 255, 0.15) !important;
    }

    /* ==========================================================================
       Breadcrumbs
       ========================================================================== */
    
    div.breadcrumbs {
        background: var(--admin-gray-100) !important;
        color: var(--admin-text-secondary) !important;
        border-bottom: 1px solid var(--admin-border-color) !important;
    }
    
    div.breadcrumbs a:link,
    div.breadcrumbs a:visited {
        color: var(--admin-primary) !important;
    }
    
    div.breadcrumbs a:hover {
        color: var(--admin-primary-hover) !important;
    }

    /* ==========================================================================
       Links
       ========================================================================== */
    
    a:link,
    a:visited {
        color: var(--admin-primary) !important;
    }
    
    a:hover {
        color: var(--admin-primary-hover) !important;
    }
    
    a.deletelink:link,
    a.deletelink:visited {
        color: var(--admin-danger) !important;
    }
    
    a.deletelink:hover {
        color: var(--admin-danger-hover) !important;
    }

    /* ==========================================================================
       Modules (Cards/Boxes)
       ========================================================================== */
    
    .module {
        background: var(--admin-bg-secondary) !important;
        border-color: var(--admin-border-color) !important;
    }
    
    .module h2,
    .module caption,
    .inline-group h2 {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }

    /* ==========================================================================
       Buttons
       ========================================================================== */
    
    .button,
    input[type="submit"],
    input[type="button"],
    .submit-row input,
    a.button {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .button:hover,
    input[type="submit"]:hover,
    input[type="button"]:hover,
    .submit-row input:hover,
    a.button:hover {
        background: var(--admin-primary-hover) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    input[type="submit"].default,
    .submit-row input.default {
        background: var(--admin-primary) !important;
    }

    .deletelink-box a.deletelink {
        background: var(--admin-danger) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .deletelink-box a.deletelink:hover {
        background: var(--admin-danger-hover) !important;
    }

    /* ==========================================================================
       Object Tools (Add/History buttons)
       ========================================================================== */
    
    .object-tools a:link,
    .object-tools a:visited {
        background: var(--admin-secondary) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .object-tools a:hover {
        background: var(--admin-gray-700) !important;
    }
    
    .object-tools a.addlink {
        background: var(--admin-success) !important;
    }
    
    .object-tools a.addlink:hover {
        background: var(--admin-success-hover) !important;
    }

    /* ==========================================================================
       Tables
       ========================================================================== */
    
    #result_list th {
        background: var(--admin-gray-100) !important;
        color: var(--admin-text-title) !important;
        border-color: var(--admin-border-color) !important;
    }
    
    #result_list th a:link,
    #result_list th a:visited {
        color: var(--admin-text-title) !important;
    }
    
    #result_list td {
        border-color: var(--admin-border-light) !important;
    }
    
    #result_list tr:hover td {
        background: var(--admin-gray-50) !important;
    }
    
    #result_list tr.selected td {
        background: var(--admin-primary-light) !important;
    }

    /* ==========================================================================
       Forms
       ========================================================================== */
    
    input[type="text"]:focus,
    input[type="password"]:focus,
    input[type="email"]:focus,
    input[type="url"]:focus,
    input[type="number"]:focus,
    textarea:focus,
    select:focus {
        border-color: var(--admin-primary) !important;
        box-shadow: 0 0 0 2px rgba(59, 125, 221, 0.2) !important;
    }
    
    .form-row label {
        color: var(--admin-text-title) !important;
    }

    fieldset h2 {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }

    .help,
    p.help,
    span.help {
        color: var(--admin-text-muted) !important;
    }

    /* ==========================================================================
       Filters (Sidebar)
       ========================================================================== */
    
    #changelist-filter {
        background: var(--admin-bg-secondary) !important;
        border-color: var(--admin-border-color) !important;
    }
    
    #changelist-filter h2 {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    #changelist-filter h3 {
        color: var(--admin-text-title) !important;
    }
    
    #changelist-filter li a {
        color: var(--admin-text-secondary) !important;
    }
    
    #changelist-filter li.selected a {
        color: var(--admin-primary) !important;
    }

    /* ==========================================================================
       Navigation Sidebar
       ========================================================================== */
    
    #nav-sidebar {
        background: var(--admin-bg-secondary) !important;
        border-color: var(--admin-border-color) !important;
    }

    /* ==========================================================================
       Messages (Alerts)
       ========================================================================== */
    
    .messagelist .success {
        background: var(--admin-success) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .messagelist .warning {
        background: var(--admin-warning) !important;
        color: var(--admin-gray-900) !important;
    }
    
    .messagelist .error {
        background: var(--admin-danger) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .messagelist .info {
        background: var(--admin-info) !important;
        color: var(--admin-text-inverse) !important;
    }

    /* Error notes */
    .errornote,
    p.errornote {
        background: var(--admin-danger) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .errornote a,
    p.errornote a {
        color: var(--admin-text-inverse) !important;
    }
    
    ul.errorlist,
    ul.errorlist li {
        background: transparent !important;
        color: var(--admin-danger) !important;
    }

    /* ==========================================================================
       Login Page
       ========================================================================== */
    
    body.login {
        background: var(--admin-bg-primary) !important;
    }
    
    body.login #header {
        background: var(--admin-primary) !important;
    }

    /* ==========================================================================
       Pagination
       ========================================================================== */
    
    .paginator {
        background: var(--admin-gray-50) !important;
        border-color: var(--admin-border-color) !important;
        color: var(--admin-text-secondary) !important;
    }
    
    .paginator a:link,
    .paginator a:visited {
        background: var(--admin-white) !important;
        color: var(--admin-primary) !important;
        border-color: var(--admin-border-color) !important;
    }
    
    .paginator a:hover {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }

    /* ==========================================================================
       Calendar & Date Widgets
       ========================================================================== */
    
    .calendar caption,
    .calendarbox h2 {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .calendar td a:hover,
    .calendar td.selected a {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }

    /* ==========================================================================
       Inline Groups
       ========================================================================== */
    
    .inline-group .tabular td.original {
        background: var(--admin-gray-50) !important;
    }
    
    .inline-group .add-row a {
        background: var(--admin-success) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .inline-group .add-row a:hover {
        background: var(--admin-success-hover) !important;
    }

    /* ==========================================================================
       Actions Bar
       ========================================================================== */
    
    .actions {
        background: var(--admin-gray-100) !important;
    }
    
    .actions button {
        background: var(--admin-primary) !important;
        color: var(--admin-text-inverse) !important;
    }
    
    .actions button:hover {
        background: var(--admin-primary-hover) !important;
    }

    /* ==========================================================================
       Submit Row
       ========================================================================== */
    
    .submit-row {
        background: var(--admin-gray-100) !important;
        border-color: var(--admin-border-color) !important;
    }

    /* ==========================================================================
       Utilities
       ========================================================================== */
    
    .quiet,
    .small {
        color: var(--admin-text-muted) !important;
    }
</style>
{% endblock %}

{% block welcome-msg %}
{% if user.first_name %}
Welcome, <strong>{{ user.first_name }}</strong>.
{% else %}
Welcome, <strong>{{ user.get_username }}</strong>.
{% endif %}
{% endblock %}
